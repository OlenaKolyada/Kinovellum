# Нефункциональные требования

## 1. Производительность

### 1.1. Быстродействие API
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить высокую скорость обработки запросов к API, чтобы минимизировать ожидание пользователей мобильного приложения.
* **Параметры:** Время отклика API не более 500 мс для простых запросов, не более 1 секунды для сложных запросов с агрегацией данных.
* **Приоритет требования:** Высокий.

### 1.2. Оптимизация запросов к базе данных
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить эффективную работу с базой данных для быстрого получения данных о просмотрах и фильмах.
* **Параметры:** Использование индексов для часто используемых полей, оптимизация SQL-запросов.
* **Приоритет требования:** Высокий.

### 1.3. Кэширование данных
* **Источник требования:** Разработчики.
* **Описание требования:** Реализовать кэширование часто запрашиваемых данных для снижения нагрузки на базу данных.
* **Параметры:** Кэширование статической информации о фильмах, результатов поиска, статистики пользователя.
* **Приоритет требования:** Средний.

## 2. Надежность

### 2.1. Стабильность работы
* **Источник требования:** Разработчики.
* **Описание требования:** Гарантировать стабильную работу backend без сбоев и недоступности.
* **Параметры:** Доступность API не менее 99% времени.
* **Приоритет требования:** Высокий.

### 2.2. Обработка ошибок
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить корректную обработку ошибок и возврат понятных HTTP-статусов и сообщений об ошибках.
* **Параметры:** Все ошибки логируются, API возвращает структурированные ответы с кодами ошибок (400, 401, 404, 500 и т.д.).
* **Приоритет требования:** Высокий.

### 2.3. Резервное копирование данных
* **Источник требования:** Администраторы системы.
* **Описание требования:** Обеспечить регулярное резервное копирование базы данных для предотвращения потери данных.
* **Параметры:** Автоматическое резервное копирование не реже одного раза в сутки.
* **Приоритет требования:** Средний.

## 3. Безопасность

### 3.1. Защита данных пользователей
* **Источник требования:** Разработчики, владелец продукта.
* **Описание требования:** Обеспечить защиту конфиденциальности и безопасность данных пользователей приложения.
* **Параметры:** Использование HTTPS для всех соединений, защита от SQL-инъекций, валидация входных данных.
* **Приоритет требования:** Высокий.

### 3.2. Аутентификация и авторизация
* **Источник требования:** Разработчики.
* **Описание требования:** Реализовать безопасную систему аутентификации и авторизации пользователей с использованием Keycloak.
* **Параметры:** Интеграция с Keycloak для управления пользователями и токенами, валидация токенов на каждом запросе, разграничение доступа по ролям (пользователь, администратор).
* **Приоритет требования:** Высокий.

### 3.3. Защита API
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить защиту API от несанкционированного доступа и атак.
* **Параметры:** Rate limiting (ограничение количества запросов), защита от CSRF и XSS атак, валидация входных данных.
* **Приоритет требования:** Высокий.

## 4. Масштабируемость

### 4.1. Горизонтальное масштабирование
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить возможность горизонтального масштабирования backend для поддержки роста числа пользователей.
* **Параметры:** Архитектура позволяет добавление дополнительных серверов при увеличении нагрузки.
* **Приоритет требования:** Низкий (для учебного проекта).

### 4.2. Оптимизация работы с большими объемами данных
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить эффективную работу системы при росте количества записей в базе данных.
* **Параметры:** Индексация таблиц, оптимизация запросов для выборки больших объемов данных.
* **Приоритет требования:** Средний.

## 5. Совместимость и интеграция

### 5.1. API документация
* **Источник требования:** Разработчики.
* **Описание требования:** Предоставить полную документацию API для разработки мобильного приложения.
* **Параметры:** Документация с описанием всех endpoints, параметров запросов, форматов ответов и примеров использования.
* **Приоритет требования:** Высокий.

### 5.2. Интеграция с внешними сервисами
* **Источник требования:** Разработчики.
* **Описание требования:** Обеспечить надежную интеграцию с внешними API (TMDb) для получения информации о фильмах.
* **Параметры:** Обработка ошибок внешних сервисов, кэширование ответов, fallback-механизмы при недоступности API.
* **Приоритет требования:** Средний.

## 6. Поддерживаемость

### 6.1. Качество кода
* **Источник требования:** Разработчики, преподаватели курса.
* **Описание требования:** Обеспечить высокое качество кода для упрощения поддержки и развития проекта.
* **Параметры:** Соблюдение Kotlin code conventions, использование meaningful naming, комментирование сложной логики.
* **Приоритет требования:** Высокий.

### 6.2. Логирование
* **Источник требования:** Разработчики.
* **Описание требования:** Реализовать систему логирования для отслеживания работы приложения и диагностики проблем.
* **Параметры:** Логирование всех важных событий, ошибок, запросов к API с различными уровнями (INFO, WARN, ERROR).
* **Приоритет требования:** Высокий.

### 6.3. Тестируемость
* **Источник требования:** Разработчики, преподаватели курса.
* **Описание требования:** Обеспечить возможность тестирования кода на разных уровнях.
* **Параметры:** Покрытие unit-тестами основной бизнес-логики, integration тесты для API endpoints.
* **Приоритет требования:** Средний.